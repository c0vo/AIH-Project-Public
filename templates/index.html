<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DBS Chatbot</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.2/socket.io.min.js"></script>
    <script type="module" src="{{ url_for('static', filename='js/main.js') }}"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.5/flowbite.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.5/flowbite.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
</head>

<body>

    <nav class="bg-white border-gray-200 dark:bg-gray-900">
        <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
            <a href="{{ url_for('index') }}" class="flex items-center">
                <img src="{{ url_for('static', filename='images/dbs_white.png') }}" class="h-8 mr-3"
                    alt="DBS Logo" />
            </a>
        </div>
    </nav>
    

    <div id="landing-container" class="landing-container">
        <div class="landing-content">
            <div class="landing-header">
                <h1 class="landing-title">How can I assist you today?</h1>
            </div>
    
            <div class="landing-search">
                <div class="landing-input-container relative">
                    <input type="text" id="landing-input" class="landing-input" placeholder="">
                    <div class="absolute left-0 top-0 w-full h-full flex items-center px-4 text-gray-400 placeholder-overlay">
                        <div class="carousel-container">
                            <div class="carousel-text">Type your question here!</div>
                            <div class="carousel-text">在这里输入您的问题！</div>
                            <div class="carousel-text">கேள்வியை தட்டச்சு செய்க!</div>
                            <div class="carousel-text">अपना प्रश्न यहां टाइप करें!</div>
                            <div class="carousel-text">এখানে আপনার প্রশ্ন টাইপ করুন!</div>
                        </div>
                    </div>
                </div>
                <button id="landing-search-btn" class="landing-search-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                </button>
            </div>
    
            <div class="feature-grid">

                <div class="feature-card" data-query="Hello!">
                    <div class="feature-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                        </svg>
                    </div>
                    <h3>Quick Start</h3>
                    <p>Unsure of what to ask? Press on this button to learn more!</p>
                </div>

                <div class="feature-card" data-query="How do I transfer money using the DBS app?">
                    <div class="feature-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />
                        </svg>
                    </div>
                    <h3>Transferring Money</h3>
                    <p>Transfer money both locally and internationally.</p>
                </div>
    
                <div class="feature-card" data-query="What essential services are available for migrant workers?">
                    <div class="feature-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                        </svg>
                    </div>
                    <h3>Essential Services</h3>
                    <p>Find resources for legal advice and other essential services.</p>
                </div>
    
                <div class="feature-card" data-query="Can you help me identify a scam?">
                    <div class="feature-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                        </svg>
                    </div>
                    <h3>Scam Protection</h3>
                    <p>Upload images or messages to check for potential scams</p>
                </div>
            </div>
        </div>
    </div>

    <div id="chat-view" class="chat-view hidden">
    <div class="chatContainer">
        <div class="box">
            <div class="upper" id="upperid">
                <!-- Chat messages will be displayed here -->
            </div>

            <div class="bottom">
                <div id="imagePreview">
                    <img id="previewImage" src="" alt="Preview" class="rounded-lg shadow-md">
                    <button id="removeImage" class="text-red-500 hover:text-red-700">Remove</button>
                </div>
                <form id="userinputform">
                    <label for="chat" class="sr-only">Your message</label>
                    <!-- Updated container div with responsive spacing -->
                    <div class="flex items-center p-2 sm:px-3 sm:py-2 rounded-lg" style="background-color: var(--background-dark);">
                        <!-- Updated textarea with responsive margins -->
                        <textarea id="userinput" rows="1"
                            class="block mx-2 sm:mx-4 p-2 w-full text-sm rounded-lg border focus:ring-blue-500 focus:border-blue-500 bg-[#40414F] border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"
                            placeholder="Your message..."></textarea>
                        <!-- Updated button container with responsive spacing -->
                        <div class="flex items-center space-x-1 sm:space-x-2">
                            <input type="file" id="imageUpload" accept="image/*" class="hidden">
                            <label for="imageUpload" title="Attach a File" class="p-1.5 sm:p-2 text-gray-500 rounded-full cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-600">
                                <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"></path>
                                </svg>
                                <span class="sr-only">Attach file</span>
                            </label>
                            <button onclick="clearChat()" type="button" title="Clear Chat" class="p-1.5 sm:p-2 text-gray-500 rounded-full cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-600">
                                <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                </svg>
                                <span class="sr-only">Clear chat</span>
                            </button>
                            <button type="button" id="voiceButton" title="Speech To Text" class="p-1.5 sm:p-2 text-gray-500 rounded-lg cursor-pointer hover:text-gray-900 hover:bg-gray-100">
                                <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
                                </svg>
                            </button>                
                            <button type="submit" id="sendbtn"
                                class="p-1.5 sm:p-2 text-gray-600 rounded-full cursor-pointer hover:text-gray-900 hover:bg-gray-100">
                                <svg aria-hidden="true" class="w-5 h-5 sm:w-6 sm:h-6 rotate-90" fill="currentColor" viewBox="0 0 20 20"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"></path>
                                </svg>
                                <span class="sr-only">Send message</span>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
</body>

</html>